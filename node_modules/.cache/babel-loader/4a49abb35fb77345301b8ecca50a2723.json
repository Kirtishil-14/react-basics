{"ast":null,"code":"import _toConsumableArray from\"D:/tp/react-basics/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/tp/react-basics/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/tp/react-basics/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var getLocalData=function getLocalData(){var lists=localStorage.getItem('todo');if(lists){return JSON.parse(lists);}else{return[];}};var Todo=function Todo(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(getLocalData()),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),isEditItem=_useState6[0],setIsEditItem=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),toggleBtn=_useState8[0],setToggleBtn=_useState8[1];var addItem=function addItem(){if(!input){console.error('enter data');return;}else if(input&&toggleBtn){setItems(items.map(function(elem){if(elem.id===isEditItem){return _objectSpread(_objectSpread({},elem),{},{name:input});}return elem;}));setInput([]);setIsEditItem(null);setToggleBtn(false);}else{var newItems={id:new Date().getTime().toString(),name:input};setItems([].concat(_toConsumableArray(items),[newItems]));setInput('');}};var editItem=function editItem(id){var edited_item=items.find(function(elem){return elem.id===id;});setInput(edited_item.name);setIsEditItem(id);setToggleBtn(true);};var deleteItem=function deleteItem(id){var updateItem=items.filter(function(elem){return elem.id!==id;});setItems(updateItem);};var removeAll=function removeAll(){setItems([]);};useEffect(function(){localStorage.setItem(\"todo\",JSON.stringify(items));},[items]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Todo\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:function onChange(event){return setInput(event.target.value);}}),toggleBtn?/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary m-1 btn-sm\",onClick:addItem,children:\"Edit\"}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary m-1 btn-sm\",onClick:addItem,children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{children:items.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary m-1 btn-sm\",onClick:function onClick(){return editItem(item.id);},children:\"edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary m-1 btn-sm\",onClick:function onClick(){return deleteItem(item.id);},children:\"delete\"})]},item.id);})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger m-1 btn-sm\",onClick:removeAll,children:\"Check All\"})})]});};export default Todo;","map":{"version":3,"sources":["D:/tp/react-basics/src/todo/Todo.jsx"],"names":["React","useState","useEffect","getLocalData","lists","localStorage","getItem","JSON","parse","Todo","input","setInput","items","setItems","isEditItem","setIsEditItem","toggleBtn","setToggleBtn","addItem","console","error","map","elem","id","name","newItems","Date","getTime","toString","editItem","edited_item","find","deleteItem","updateItem","filter","removeAll","setItem","stringify","event","target","value","item"],"mappings":"+TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,6IAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAd,CACA,GAAIF,KAAJ,CAAW,CACT,MAAOG,CAAAA,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAP,CACD,CAFD,IAEO,CACL,MAAO,EAAP,CACD,CACF,CAPD,CASA,GAAMK,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CAEjB,cAA0BR,QAAQ,CAAC,EAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,eAA0BV,QAAQ,CAACE,YAAY,EAAb,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eACA,eAAoCZ,QAAQ,CAAC,EAAD,CAA5C,yCAAOa,UAAP,eAAmBC,aAAnB,eACA,eAAkCd,QAAQ,CAAC,KAAD,CAA1C,yCAAOe,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAI,CAACR,KAAL,CAAY,CACVS,OAAO,CAACC,KAAR,CAAc,YAAd,EACA,OACD,CAHD,IAGO,IAAIV,KAAK,EAAIM,SAAb,CAAwB,CAC7BH,QAAQ,CACND,KAAK,CAACS,GAAN,CAAU,SAACC,IAAD,CAAU,CAClB,GAAIA,IAAI,CAACC,EAAL,GAAYT,UAAhB,CAA4B,CAC1B,sCAAYQ,IAAZ,MAAkBE,IAAI,CAAEd,KAAxB,GACD,CACD,MAAOY,CAAAA,IAAP,CACD,CALD,CADM,CAAR,CAQAX,QAAQ,CAAC,EAAD,CAAR,CACAI,aAAa,CAAC,IAAD,CAAb,CACAE,YAAY,CAAC,KAAD,CAAZ,CACD,CAZM,IAYA,CACL,GAAMQ,CAAAA,QAAQ,CAAG,CACfF,EAAE,CAAE,GAAIG,CAAAA,IAAJ,GAAWC,OAAX,GAAqBC,QAArB,EADW,CAEfJ,IAAI,CAAEd,KAFS,CAAjB,CAIAG,QAAQ,8BAAKD,KAAL,GAAYa,QAAZ,GAAR,CACAd,QAAQ,CAAC,EAAD,CAAR,CACD,CACF,CAxBD,CA0BA,GAAMkB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACN,EAAD,CAAQ,CACvB,GAAMO,CAAAA,WAAW,CAAGlB,KAAK,CAACmB,IAAN,CAAW,SAACT,IAAD,CAAU,CACvC,MAAOA,CAAAA,IAAI,CAACC,EAAL,GAAYA,EAAnB,CACD,CAFmB,CAApB,CAGAZ,QAAQ,CAACmB,WAAW,CAACN,IAAb,CAAR,CACAT,aAAa,CAACQ,EAAD,CAAb,CACAN,YAAY,CAAC,IAAD,CAAZ,CACD,CAPD,CASA,GAAMe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACT,EAAD,CAAQ,CACzB,GAAMU,CAAAA,UAAU,CAAGrB,KAAK,CAACsB,MAAN,CAAa,SAACZ,IAAD,CAAU,CACxC,MAAOA,CAAAA,IAAI,CAACC,EAAL,GAAYA,EAAnB,CACD,CAFkB,CAAnB,CAIAV,QAAQ,CAACoB,UAAD,CAAR,CACD,CAND,CAQA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBtB,QAAQ,CAAC,EAAD,CAAR,CACD,CAFD,CAIAX,SAAS,CAAC,UAAM,CACdG,YAAY,CAAC+B,OAAb,CAAqB,MAArB,CAA6B7B,IAAI,CAAC8B,SAAL,CAAezB,KAAf,CAA7B,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,mBACE,wCACE,kCACE,4BADF,EADF,cAIE,oCACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEF,KAA1B,CAAiC,QAAQ,CAAE,kBAAC4B,KAAD,QAAW3B,CAAAA,QAAQ,CAAC2B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAnB,EAA3C,EADF,CAGIxB,SAAS,cACP,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,4BAAhC,CAA6D,OAAO,CAAEE,OAAtE,kBADO,cAGP,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,4BAAhC,CAA6D,OAAO,CAAEA,OAAtE,iBANN,GAJF,cAeE,qBAEIN,KAAK,CAACS,GAAN,CAAU,SAACoB,IAAD,CAAU,CAClB,mBACE,oCACE,sBAAQA,IAAI,CAACjB,IAAb,EADF,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,4BAAhC,CAA6D,OAAO,CAAE,yBAAMK,CAAAA,QAAQ,CAACY,IAAI,CAAClB,EAAN,CAAd,EAAtE,kBAFF,cAGE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,4BAAhC,CAA6D,OAAO,CAAE,yBAAMS,CAAAA,UAAU,CAACS,IAAI,CAAClB,EAAN,CAAhB,EAAtE,oBAHF,GAAUkB,IAAI,CAAClB,EAAf,CADF,CAOD,CARD,CAFJ,EAfF,cA4BE,kCACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2BAAhC,CAA4D,OAAO,CAAEY,SAArE,uBADF,EA5BF,GADF,CAkCD,CA5FD,CA8FA,cAAe1B,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nconst getLocalData = () => {\r\n  const lists = localStorage.getItem('todo');\r\n  if (lists) {\r\n    return JSON.parse(lists);\r\n  } else {\r\n    return [];\r\n  }\r\n}\r\n\r\nconst Todo = () => {\r\n\r\n  const [input, setInput] = useState('');\r\n  const [items, setItems] = useState(getLocalData());\r\n  const [isEditItem, setIsEditItem] = useState('');\r\n  const [toggleBtn, setToggleBtn] = useState(false);\r\n\r\n  const addItem = () => {\r\n    if (!input) {\r\n      console.error('enter data');\r\n      return;\r\n    } else if (input && toggleBtn) {\r\n      setItems(\r\n        items.map((elem) => {\r\n          if (elem.id === isEditItem) {\r\n            return { ...elem, name: input }\r\n          }\r\n          return elem;\r\n        })\r\n      )\r\n      setInput([]);\r\n      setIsEditItem(null);\r\n      setToggleBtn(false);\r\n    } else {\r\n      const newItems = {\r\n        id: new Date().getTime().toString(),\r\n        name: input\r\n      }\r\n      setItems([...items, newItems]);\r\n      setInput('');\r\n    }\r\n  }\r\n\r\n  const editItem = (id) => {\r\n    const edited_item = items.find((elem) => {\r\n      return elem.id === id;\r\n    });\r\n    setInput(edited_item.name);\r\n    setIsEditItem(id);\r\n    setToggleBtn(true);\r\n  }\r\n\r\n  const deleteItem = (id) => {\r\n    const updateItem = items.filter((elem) => {\r\n      return elem.id !== id;\r\n    });\r\n\r\n    setItems(updateItem);\r\n  }\r\n\r\n  const removeAll = () => {\r\n    setItems([]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"todo\", JSON.stringify(items));\r\n  }, [items]);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <h1>Todo</h1>\r\n      </div>\r\n      <div>\r\n        <input type=\"text\" value={input} onChange={(event) => setInput(event.target.value)} />\r\n        {\r\n          toggleBtn ? (\r\n            <button type=\"button\" className=\"btn btn-primary m-1 btn-sm\" onClick={addItem}>Edit</button>\r\n          ) : (\r\n            <button type=\"button\" className=\"btn btn-primary m-1 btn-sm\" onClick={addItem}>Add</button>\r\n          )\r\n        }\r\n\r\n      </div>\r\n      <div>\r\n        {\r\n          items.map((item) => {\r\n            return (\r\n              <div key={item.id}>\r\n                <span >{item.name}</span>\r\n                <button type=\"button\" className=\"btn btn-primary m-1 btn-sm\" onClick={() => editItem(item.id)}>edit</button>\r\n                <button type=\"button\" className=\"btn btn-primary m-1 btn-sm\" onClick={() => deleteItem(item.id)}>delete</button>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n      <div>\r\n        <button type=\"button\" className=\"btn btn-danger m-1 btn-sm\" onClick={removeAll}>Check All</button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Todo"]},"metadata":{},"sourceType":"module"}